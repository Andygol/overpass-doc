Твердження
==========

API Overpass не буде просувати або заважати конкретним схемам теґування.
Він призначений бути зворотньо сумісним впродовж десятиліть.

<a name="local"/>
## Швидка робота для даних, розшташованих поруч

Overpass API спроєктовано таким чином щоб
швидко опрацьовувати дані, які є просторово близькими одні до одних.
Просторово розпорошені дані також можуть отримуватися за допомогою Overpass API, 
але тоді вони більше не мають жодних переваг над іншими базами даних.

Тому, в багатьх місцях в цим керівництві
вас буде переадресовано до інших інструментів OpenStreetMap,
якщо вони краще оптимізовані для відповідних цілей.

<a name="faithful"/>
## Вірність моделі даних

Модель даних OpenStreetMap своєю простотою 
істотно сприяла успіху OpenStreetMap.
Але практично для кожного випадку використання потрібно конвертувати дані в іншу модель даних,
оскільки в іншому випадку час обробки буде надто високим.
Це стосується, зокрема, візуалізації мапи, а ще більше - маршрутизації та пошуку POI.

Жодне з цих перетворень не відбувається без певних втрат,
кожна модель даних підкреслює деякі аспекти, ігнорує інші та інтерпретує решту в найкращий спосіб.
Таким чином, навіть уявлення, що є максимально наближеним до дійсності,
може спричинити до несподіваних результатів під час створення мап, прокладання маршрутів та інших випадках.

Багато хто з маперів вирішує це шляхом некоректного зображення фактів,
що в процесі роботи з ними мало б призвести до результату бажаного виду, в залежності від використаних інструментів.
Мапери часто нехтують тим, що з використанням інших інструментів, результати можуть бути іншими, чи навіть гіршими.
Така практика отримала власне визначення - [Мапінг під рендер](https://wiki.openstreetmap.org/wiki/Uk:Tagging_for_the_renderer).

Проблема полягає в тому, що мапінг проти правил призводить до приємнішого вигляду на мапі,
а мапінг за правилами не завжди відповідає тому, що бажає отримати в результаті мапер.
Маперам іноді доволі важко довести стороннім особам, що вони дотримуються правил.

Тому API Overpass працює спираючись на оригінальну модель даних.
Саме в цьому полягає місія Overpass API - показувати дані так, як вони є в OpenStreetMap.

Своєю чергою це знімає тягар з Overpass API,
дані, які були додані проти правил, можна демонструвати саме як недоліки.
Дані, додані за всіма правилами, можна перевірити,
та принаймні показати їх повний контекст.

<a name="tags"/>
## Нейтралітет що до теґування

Рисою людства, яка швидко набуває зворотного явища, є те, що
з'являються пророки, що поширюють вчення, яке, на їхню думку, є непорочним.

Наприклад мультиполігони.
Проблемою, яку вони були покликані вирішити, 
з одного боку, був мапінг полігонів з отворами в середині,
з іншого боку, мапінг суміжних полігонів, які торкаються один одного.
Наприклад, країни займають певну територію та мають кордони з іншими країнами, сухопутні кордони - це завжди кордон що належить країнам, які він розділяє.
Для мапінгу кордонів країн використання тільки замкнених ліній більше не можливе.

З моменту початку мапінгу _отворів_ (до появи мультиполігонів) 
теґи об'єкта додавались на зовнішній контур.
Це було зроблено, через те, що рендери мали проблеми з обробкою зв'язків.
Одночасно у деяких користувачів виникали певні труднощі,
які можна поєднати в одну категорію - _дотичні внутрішні контури_.

В цілому, тема мультиполігонів часто повторюється
і їх використання все ще вимагає відповідного досвіду.

Дехто з маперів отримали хибне уявлення про них,
ніби мультиполігони це дещо могутнє,
і перетворили прості лінії у мультиполігони.
Але це не дало жодних переваг,
натомість ускладнює редагування та перенавантажує базу даних.

В інших темах також є багато суперечок:

* Тротуари, що йдуть паралельно до проїжджої частини можуть показуватись окремими лініями,
  або за допомогою складних правил вони зазначаються на лінії дороги,
  чи можна обмежити неявне моделювання лише простими випадками, без потенційного непорозуміння.
* У випадку з вулицями, назву може отримати будь-яка частина вулиці.
  Або назва додається принаймні до однієї з проїжджих частин в кожному напрямку, там де найвища швидкість рух.
* У випадку з магазинами. Чи магазин тотожний будівлі, чи він має позначатись окремою точкою в середині будівлі?
  Адресу варто зазначати на одному з двох об'єктів (будівлі та магазині), чи тільки на одному?

Щоб бути впевненим, що Overpass API є універсальним та корисним інструментом,
він був створений щоб стояти обабіч від цих розбіжностей.

З цих причин Overpass API дотримується нейтралітету, щодо схем теґування,
тобто жоден теґ не має якогось особливого трактування.

<a name="antiwar"/>
## Незмінність

Іншою проблемою в цьому контексті є прагнення
щодо автоматичних змін даних.
Хоча ідея звучить переконливо,
це може призвести до [багатьох проблем](https://2016.stateofthemap.org/2016/staying-on-the-right-side-best-practices-in-editing/).

Через це Overpass API не підтримує
перезаписування об'єктів OpenStreetMap на ходу.
Для чітко існуючої та обґрунтованої потреби
переписувати об'єкти було введено клас _derived_ .
Об'єкти цього класу досить сильно відрізняються від об'єктів OpenStreetMap
щоб їх неможливо було записати назад в базу OpenStreetMap.

Редагування з певною мірою автоматизації можуть існувати внаслідок роботи Overpass API.
Приклади можна знайти в розділі присвяченому [JOSM](../targets/index.md).

<a name="ql"/>
## Універсальна мова запитів

Геодані мають свій власний критерій внутрішнього впорядкування за _просторовою близькістю_.
З цієї причини вони не належать до жодної категорії
які обслуговуються будь-якою усталеною мовою запитів.
З цієї причини Overpass API взагалі пропонує власну мову запитів.

Мова запитів призначена не лише для використання просторової близькості,
але також може враховувати всі особливості моделі даних OpenStreetMap.
Вона створена для того, щоб забезпечити
нормальну роботу запитів на публічно доступних серверах,
також щоб не піддавати сервери зайвому навантаженню, та не створювати проблем з безпекою даних.

Нарешті виявилося, що спільнота OpenStreetMap хоче та отримує зиск від достатньо складних запитів.
Вони обслуговуються завдяки тому, що
мова є максимально логічно жорсткою та ортогональною,
тож практично все можна поєднати з чим завгодно.

<a name="infrastructure"/>
## Інфраструктура

Overpass API розроблено як інфраструктуру.
Таким чином, це не є ні програмним забезпеченням для кінцевого користувача, ні прототипом.

Рішення щодо інтерфейсів, зокрема щодо мови запитів,
і більше необхідних залежностей, ймовірно, матимуть вплив протягом десятиліть.
Тому зміни вносяться обережно
і не раніше, ніж буде знайдено форму, яка може зберігатися в довгостроковій перспективі.

Бути інфраструктурою, підключеною до Інтернету, означає, що
потрібно зберігати розумне управління навантаженням навіть перед шаленим напором запитів.
Більше про це в [наступному розділі](commons.md#magnitudes).

<a name="libre"/>
## Відкритість та Свобода

Overpass API слідує [чотирьом свободам](https://www.gnu.org/philosophy/free-sw.html) відкритого програмного забезпечення.

### Користування, Розповсюдження

Для цієї мети недостатньо запропонувати публічні екземпляри,
тому що вони неминуче матимуть обмежену продуктивність.

Тільки через розповсюдження [сирців](https://github.com/drolbr/Overpass-API) у вигляді, що 
дозволяє [встановити їх на незалежному обладнанні](https://dev.overpass-api.de/no_frills.html) забезпечує свободу користування.
Це включає розробку програмного забезпечення таким чином, щоб до відповідно обладнання було легко мати доступ.

### Адаптація, Модифікація

[Сирці](https://github.com/drolbr/Overpass-API) – основний інгредієнт.
[Ліцензія](https://github.com/drolbr/Overpass-API/blob/master/COPYING) відповідає за юридичний бік.
